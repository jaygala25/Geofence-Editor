(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(51)},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(7),l=n.n(r),c=n(4),i=n(8),u=n(6),d=n(5),s=["drawing","places"],p={width:"100%",height:"100vh"},f={lat:52.52047739093263,lng:13.36653284549709},g=function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),n=(t[0],t[1]),r=Object(a.useState)([]),l=Object(d.a)(r,2),g=l[0],b=l[1],m=Object(a.useState)(!1),y=Object(d.a)(m,2),v=y[0],O=y[1],h=Object(a.useState)(null),j=Object(d.a)(h,2),k=j[0],E=j[1],C=Object(a.useState)(null),x=Object(d.a)(C,2),F=x[0],w=x[1],S=Object(a.useState)([]),L=Object(d.a)(S,2),P=L[0],M=L[1],D=Object(a.useRef)({}),R=Object(a.useRef)({});Object(a.useEffect)(function(){var e=function(e){"Escape"===e.key&&v&&(O(!1),M([]),w(null))};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}},[v]);var W=Object(a.useCallback)(function(e){n(e)},[]),A=function(e){try{var t=e.map(function(e){return Object(u.a)({},e,{editable:!1})}),n=JSON.stringify(t);localStorage.setItem("savedPolygons",n),console.log("Polygons saved successfully")}catch(a){console.error("Error saving polygons:",a)}},I=Object(a.useCallback)(function(e){v&&w({lat:e.latLng.lat(),lng:e.latLng.lng()})},[v]),J=Object(a.useCallback)(function(e){if(v){var t={lat:e.latLng.lat(),lng:e.latLng.lng()};M(function(e){return[].concat(Object(i.a)(e),[t])})}},[v]),_=Object(a.useCallback)(function(e){if(D.current[e]){var t=D.current[e].getPath().getArray().map(function(e){return{lat:e.lat(),lng:e.lng()}});b(function(n){return n.map(function(n){return n.id===e?Object(u.a)({},n,{path:t}):n})})}},[]),N=Object(a.useCallback)(function(e,t){if(e){D.current[t]=e;var n=e.getPath();R.current[t]=[n.addListener("set_at",function(){return _(t)}),n.addListener("insert_at",function(){return _(t)}),n.addListener("remove_at",function(){return _(t)})]}},[_]),z=Object(a.useCallback)(function(e){R.current[e]&&(R.current[e].forEach(function(e){e&&e.remove()}),delete D.current[e],delete R.current[e])},[]),U=Object(a.useCallback)(function(e){if("polygon"===e.type){var t=e.overlay.getPath().getArray().map(function(e){return{lat:e.lat(),lng:e.lng()}}),n={id:"polygon_".concat(Date.now()),path:t,editable:!1};b(function(e){var t=[].concat(Object(i.a)(e),[n]);return A(t),t}),e.overlay.setMap(null),O(!1),M([]),w(null)}},[]);return Object(a.useEffect)(function(){var e=localStorage.getItem("savedPolygons");if(e)try{b(JSON.parse(e))}catch(t){console.error("Error loading saved polygons:",t)}},[]),o.a.createElement("div",{style:{height:"100vh",width:"100%"}},o.a.createElement("div",{style:{padding:"10px",backgroundColor:"#fff",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}},o.a.createElement("button",{onClick:function(){O(!v),v?(M([]),w(null)):(b(function(e){return e.map(function(e){return Object(u.a)({},e,{editable:!1})})}),E(null),M([]),w(null))},style:{marginRight:"10px",padding:"8px 16px",backgroundColor:v?"#ff4444":"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},v?"Cancel Drawing":"New Polygon")),o.a.createElement("div",{style:{position:"absolute",top:"70px",left:"10px",zIndex:1,backgroundColor:"#fff",padding:"10px",borderRadius:"4px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}},o.a.createElement("select",{onChange:function(e){var t=e.target.value.split("|"),n=Object(d.a)(t,2),a=n[0],o=n[1];"edit"===a&&function(e){b(function(t){return t.map(function(n){return n.id===e&&n.editable&&setTimeout(function(){var e=t.map(function(e){return Object(u.a)({},e,{editable:!1})});A(e)},0),Object(u.a)({},n,{editable:n.id===e&&!n.editable})})}),E(e)}(o),"delete"===a&&function(e){b(function(t){var n=t.filter(function(t){return t.id!==e});return A(n),n}),z(e),k===e&&E(null)}(o),e.target.value=""},value:"",style:{padding:"8px",borderRadius:"4px",border:"1px solid #ccc",backgroundColor:"#fff",cursor:"pointer",minWidth:"150px"}},o.a.createElement("option",{value:""},"Select Polygon"),g.map(function(e,t){return o.a.createElement("optgroup",{key:e.id,label:"Polygon ".concat(t+1)},o.a.createElement("option",{value:"edit|".concat(e.id)},e.editable?"Done Editing":"Edit"),o.a.createElement("option",{value:"delete|".concat(e.id)},"Delete"))}))),o.a.createElement(c.LoadScript,{googleMapsApiKey:"",libraries:s},o.a.createElement(c.GoogleMap,{mapContainerStyle:p,center:f,zoom:12,onLoad:W,onMouseMove:I,onClick:J},v&&o.a.createElement(c.DrawingManager,{onOverlayComplete:U,options:{drawingMode:"polygon",drawingControl:!1,polygonOptions:{fillColor:"#FF0000",fillOpacity:.2,strokeWeight:2,strokeColor:"#FF0000",editable:!0}}}),v&&P.length>0&&F&&o.a.createElement(c.Polyline,{path:[P[P.length-1],F],options:{strokeColor:"#FFFFFF",strokeWeight:2,strokeOpacity:1}}),v&&P.length>1&&o.a.createElement(c.Polyline,{path:P,options:{strokeColor:"#FF0000",strokeWeight:2,strokeOpacity:1}}),g.map(function(e){return o.a.createElement(c.Polygon,{key:e.id,path:e.path,editable:e.editable,draggable:e.editable,onMouseUp:function(){return e.editable&&_(e.id)},onDragEnd:function(){return _(e.id)},onLoad:function(t){return N(t,e.id)},onUnmount:function(){return z(e.id)},options:{fillColor:e.editable?"#00FF00":"#FF0000",fillOpacity:.2,strokeWeight:2,strokeColor:e.editable?"#00FF00":"#FF0000"}})}))))};n(50);function b(){return o.a.createElement(g,null)}var m=document.getElementById("root");l.a.render(o.a.createElement(b,null),m)}},[[13,1,2]]]);
//# sourceMappingURL=main.9d67a15f.chunk.js.map